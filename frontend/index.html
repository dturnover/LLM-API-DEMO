<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>LLM API Demo</title>
</head>
<body style="font-family: Arial; padding: 20px; max-width: 720px; margin: auto;">
  <h2>LLM API Demo</h2>
  <textarea id="message" rows="4" style="width: 100%;" placeholder="Type your message..."></textarea>
  <br><br>
  <button onclick="sendMessage()">Send</button>
  <h3>Response:</h3>
  <pre id="response" style="white-space: pre-wrap;"></pre>

  <script>
    const API_URL = "https://llm-api-demo-5qz1.onrender.com/chat_json";

    async function sendMessage() {
      const msg = document.getElementById('message').value;
      document.getElementById('response').textContent = 'Loading...';

      try {
        const res = await fetch(API_URL, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: msg })
        });
        const data = await res.json();
        document.getElementById('response').textContent = data.response || 'No response';
      } catch (err) {
        document.getElementById('response').textContent = 'Error: ' + err;
      }
    }
  </script>
</body>
</html>
